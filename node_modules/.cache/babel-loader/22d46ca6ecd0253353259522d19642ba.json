{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/edwin/Desktop/React/challenges/employees/src/Components/ListOfEmployees.js\";\nimport LIST_EMPLOYEE from '../queries/ListEmployees';\nimport REMOVE_EMPLOYEE from '../mutations/removeEmployee';\nimport { useQuery } from '@apollo/client';\nimport { Query } from \"react-apollo\";\nimport { ApolloProvider } from 'react-apollo';\nimport Loading from 'react-loading';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport Button from '@material-ui/core/Button';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\n\nconst ListOfEmployees = () => {\n  const shortID = id => {\n    var sID = id.substring(0, 7);\n    return sID;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Query, {\n    query: LIST_EMPLOYEE,\n    children: ({\n      loading,\n      error,\n      data\n    }) => {\n      if (loading) return /*#__PURE__*/_jsxDEV(Loading, {\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 31\n      }, this);\n      if (error) console.log(error);\n      return (\n        /*#__PURE__*/\n        // <p>\n        //     {console.log(data.listEmployees.items)}\n        // </p>\n        _jsxDEV(TableBody, {\n          children: data.listEmployees.items.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: shortID(row.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: row.firstname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: row.lastname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: row.skills\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Mutation, {\n              mutation: REMOVE_EMPLOYEE,\n              refetchQueries: [{\n                query: gql`query listEmployees {\n                                        listEmployees {\n                                            items {\n                                                id\n                                                firstname\n                                                lastname\n                                                skills\n                                            }\n                                        }\n                                    }\n                                    `\n              }],\n              children: mutation => /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => mutation({\n                  variables: {\n                    id: row.id\n                  }\n                }),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)]\n          }, row.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this)\n      );\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n};\n\n_c = ListOfEmployees;\nexport default ListOfEmployees;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListOfEmployees\");","map":{"version":3,"sources":["/Users/edwin/Desktop/React/challenges/employees/src/Components/ListOfEmployees.js"],"names":["LIST_EMPLOYEE","REMOVE_EMPLOYEE","useQuery","Query","ApolloProvider","Loading","TableBody","TableCell","TableHead","TableRow","Table","Button","Mutation","gql","ListOfEmployees","shortID","id","sID","substring","loading","error","data","console","log","listEmployees","items","map","row","firstname","lastname","skills","query","mutation","variables"],"mappings":";;AACA,OAAOA,aAAP,MAA0B,0BAA1B;AACA,OAAOC,eAAP,MAA6B,6BAA7B;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;;AAEA,MAAMC,eAAe,GAAG,MAAM;AAE1B,QAAMC,OAAO,GAAIC,EAAD,IAAQ;AACpB,QAAIC,GAAG,GAAGD,EAAE,CAACE,SAAH,CAAa,CAAb,EAAgB,CAAhB,CAAV;AACA,WAAOD,GAAP;AACH,GAHD;;AAKA,sBACI,QAAC,KAAD;AAAO,IAAA,KAAK,EAAEjB,aAAd;AAAA,cACC,CAAC;AAAEmB,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBC,MAAAA;AAAlB,KAAD,KAA8B;AAC7B,UAAIF,OAAJ,EAAa,oBAAO,QAAC,OAAD;AAAS,QAAA,OAAO,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA,cAAP;AACb,UAAIC,KAAJ,EAAWE,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACX;AAAA;AACE;AACA;AACA;AAEI,gBAAC,SAAD;AAAA,oBACKC,IAAI,CAACG,aAAL,CAAmBC,KAAnB,CAAyBC,GAAzB,CAA6BC,GAAG,iBAC7B,QAAC,QAAD;AAAA,oCACI,QAAC,SAAD;AAAW,cAAA,SAAS,EAAC,IAArB;AAA0B,cAAA,KAAK,EAAC,KAAhC;AAAA,wBACKZ,OAAO,CAACY,GAAG,CAACX,EAAL;AADZ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII,QAAC,SAAD;AAAW,cAAA,KAAK,EAAC,QAAjB;AAAA,wBAA2BW,GAAG,CAACC;AAA/B;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAKI,QAAC,SAAD;AAAW,cAAA,KAAK,EAAC,OAAjB;AAAA,wBAA0BD,GAAG,CAACE;AAA9B;AAAA;AAAA;AAAA;AAAA,oBALJ,eAMI,QAAC,SAAD;AAAW,cAAA,KAAK,EAAC,OAAjB;AAAA,wBAA0BF,GAAG,CAACG;AAA9B;AAAA;AAAA;AAAA;AAAA,oBANJ,eAOI,QAAC,QAAD;AAAU,cAAA,QAAQ,EAAE7B,eAApB;AAAqC,cAAA,cAAc,EAAE,CAAC;AAAC8B,gBAAAA,KAAK,EAAElB,GAAI;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVkF,eAAD,CAArD;AAAA,wBAWKmB,QAAQ,iBAAI,QAAC,MAAD;AAAQ,gBAAA,OAAO,EAAE,MAC1BA,QAAQ,CAAC;AAAEC,kBAAAA,SAAS,EAAE;AAACjB,oBAAAA,EAAE,EAAEW,GAAG,CAACX;AAAT;AAAb,iBAAD,CADC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXjB;AAAA;AAAA;AAAA;AAAA,oBAPJ,eAuBI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAvBJ;AAAA,aAAeW,GAAG,CAACX,EAAnB;AAAA;AAAA;AAAA;AAAA,kBADH;AADL;AAAA;AAAA;AAAA;AAAA;AALN;AAmCI;AAvCN;AAAA;AAAA;AAAA;AAAA,UADJ;AA4CH,CAnDD;;KAAMF,e;AAqDN,eAAeA,eAAf","sourcesContent":["\nimport LIST_EMPLOYEE from '../queries/ListEmployees';\nimport REMOVE_EMPLOYEE  from '../mutations/removeEmployee';\nimport { useQuery } from '@apollo/client';\nimport { Query } from \"react-apollo\";\nimport { ApolloProvider } from 'react-apollo';\nimport Loading from 'react-loading';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport Button from '@material-ui/core/Button';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag'\n\nconst ListOfEmployees = () => {\n\n    const shortID = (id) => {\n        var sID = id.substring(0, 7);\n        return sID;\n    }\n\n    return (\n        <Query query={LIST_EMPLOYEE}>\n        {({ loading, error, data }) => {\n          if (loading) return <Loading loading={loading} />;\n          if (error) console.log(error);\n          return (\n            // <p>\n            //     {console.log(data.listEmployees.items)}\n            // </p>\n\n                <TableBody>\n                    {data.listEmployees.items.map(row => (\n                        <TableRow key={row.id}>\n                            <TableCell component=\"th\" scope=\"row\">\n                                {shortID(row.id)}\n                            </TableCell>\n                            <TableCell align=\"center\">{row.firstname}</TableCell>\n                            <TableCell align=\"right\">{row.lastname}</TableCell>\n                            <TableCell align=\"right\">{row.skills}</TableCell>\n                            <Mutation mutation={REMOVE_EMPLOYEE} refetchQueries={[{query: gql`query listEmployees {\n                                        listEmployees {\n                                            items {\n                                                id\n                                                firstname\n                                                lastname\n                                                skills\n                                            }\n                                        }\n                                    }\n                                    `}]}>\n                                {mutation => <Button onClick={() => \n                                    mutation({ variables: {id: row.id }})}>\n                                        Delete\n                                        </Button>}\n                            </Mutation>\n                            <Button>Edit</Button>\n                            \n                        </TableRow>\n                    ))}\n                </TableBody>\n            )}\n        }\n        </Query>\n    )\n}\n\nexport default ListOfEmployees;"]},"metadata":{},"sourceType":"module"}